<!DOCTYPE html>

<head>
  <link href="https://fonts.googleapis.com/css?family=Dosis" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
  <link href="css/index.css" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="js/spikl.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <meta charset="utf-8">

<!-- Google Analytics -->
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-93340988-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
<!-- End Google Analytics -->
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PND38NZ');</script>
<!-- End Google Tag Manager -->

	<script>



/*var cafeCrawl = {"eventData" : {
    "description": "SPiKL CAFE CRAWL: Gatehouse Coffee! Hi everyone! Made an event page so that this is easier to save in calendars, etc. We love burning our tongues on hot drinks as much as we like tripping our tongues over tough tongue twisterz, yo. So, grab a friend, come along, and have a chat with SPiKL at Gatehouse Coffee! DATE: 16th February (Thursday, W6) TIME: 4-6pm MEETING PLACE: Market Square at 3.45 or meet us there!",
    "end_time": "2017-02-16T18:30:00+0000",
    "name": "SPiKL at Gatehouse Coffee",
    "place": {
      "name": "Gatehouse Coffee",
      "location": {
        "city": "York",
        "country": "United Kingdom",
        "latitude": 53.955350874421,
        "longitude": -1.0711159320333,
        "street": "Walmgate Bar",
        "zip": "YO1 9UB"
      },
      "id": "155736981308"
    },
    "start_time": "2017-02-16T15:30:00+0000",
    "id": "643118339205167"},
    "eventPic" : "https://scontent.xx.fbcdn.net/v/t31.0-8/s720x720/16715987_1466447403385722_684004933376008482_o.jpg?oh=3599e5d0393775ec7ddaa46d019d72a4&oe=5957074A"
  }*/

$(document).ready(function(){

    /*for(var i in $('.thing')){
        $('.thing')[i].src = cafeCrawl["eventPic"];
    }

    for(var i in $('myEvent')){
      $('myEvent')[i].innerHTML =
    }*/

    /*$('.thing').on('click', function(){
      var id = $(this)[0].id;
      var index = Number(id.substring(8));
      var date = new Date(cafeCrawl["eventData"]["start_time"]);
      function addZero(i) {
            if (i < 10) {
                i = "0" + i;
            }
            return i;
        }
      var minutes = addZero (date.getMinutes());
      var weekday = new Array(7);
          weekday[0] =  "Sunday";
          weekday[1] = "Monday";
          weekday[2] = "Tuesday";
          weekday[3] = "Wednesday";
          weekday[4] = "Thursday";
          weekday[5] = "Friday";
          weekday[6] = "Saturday";
        var n = weekday[date.getDay()];
      var month = new Array(12);
          month[0] =  "Jan";
          month[1] =  "Feb";
          month[2] =  "March";
          month[3] =  "April";
          month[4] =  "May";
          month[5] =  "June";
          month[6] =  "July";
          month[7] =  "Aug";
          month[8] =  "Sept";
          month[9] =  "Oct";
          month[10] =  "Nov";
          month[11] =  "Dec";
        var m = month[date.getMonth()];
      $("#eventName")[0].innerHTML = cafeCrawl["eventData"]["name"];
      $("#eventPlace")[0].innerHTML = cafeCrawl["eventData"]["place"]["name"];
      $("#eventTime")[0].innerHTML = date.getDate() + " " + m + ", " + n + " at " + date.getHours() + ":" + minutes;
      $("#eventDescription")[0].innerHTML = cafeCrawl["eventData"]["description"];
      //$("#add").innerHTML = "Add to Schedule";
      if (!$(".addEvent").hasClass("active")){
      $(".addEvent").toggleClass("active");
      }
    })*/




    $('.thing').on('click', function(){
      var id = $(this)[0].id;
      var index = Number(id.substring(8));
      var date = new Date(events[index]["eventData"]["start_time"]);
          function addZero(i) {
                if (i < 10) {
                    i = "0" + i;
                }
                return i;
            }
      var minutes = addZero (date.getMinutes());
      var weekday = new Array(7);
          weekday[0] =  "Sunday";
          weekday[1] = "Monday";
          weekday[2] = "Tuesday";
          weekday[3] = "Wednesday";
          weekday[4] = "Thursday";
          weekday[5] = "Friday";
          weekday[6] = "Saturday";
        var n = weekday[date.getDay()];
      var month = new Array(12);
          month[0] =  "Jan";
          month[1] =  "Feb";
          month[2] =  "March";
          month[3] =  "April";
          month[4] =  "May";
          month[5] =  "June";
          month[6] =  "July";
          month[7] =  "Aug";
          month[8] =  "Sept";
          month[9] =  "Oct";
          month[10] =  "Nov";
          month[11] =  "Dec";
        var m = month[date.getMonth()];
      $("#eventName")[0].innerHTML = events[index]["eventData"]["name"];
      $("#eventPlace")[0].innerHTML = events[index]["eventData"]["place"]["name"];
      $("#eventTime")[0].innerHTML = date.getDate() + " " + m + ", " + n + " at " + date.getHours() + ":" + minutes;
      $("#eventDescription")[0].innerHTML = events[index]["eventData"]["description"];
      $("#add").innerHTML = "Add to Schedule";
      if (!$(".addEvent").hasClass("active")){
      $(".addEvent").toggleClass("active");
      }
    })

})

function addToSchedule() {

}


var events = [];

	$.ajax({
              type: "GET",
              url: 'fb.php',
              data : {"functionName": "getData"},
              success: function(response) {
	                var fbResp = JSON.parse(response);
              			for(var event in fbResp){
              				var eventPic = fbResp[event]["eventPic"];
              				var eventData = fbResp[event]["eventData"];
              				var id = '#notesPic' + event;
              				$(id)[0].src = eventPic;
                      events.push(fbResp[event]);
                        	if(event > 10){
                  					break;
                  				}
              			  }
                }
          });
</script>
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PND38NZ"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <ul class="navbar">
  <a class="navbar" href="index.html"><img class="logo" src="images/logotext.png" width="100px"></a>
  <a class="navbar" href="index.html"><li>HOME</li></a>
  <a class="navbar" href="about.html"><li>ABOUT</li></a>
  <a class="navbar" href="members.html"><li>DASHBOARD</li></a>
  <a class="navbar" href="advice.html"><li style="background-color:#ff6600">ADVICE</li></a>
</ul>

<div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  <a href="notes.html">NOTES</a>
  <a href="schedule.html">SCHEDULE</a>
  <a href="#">CHAT</a>
</div>

<!-- Use any element to open the sidenav -->
<span class="opensidebar" onclick="openNav()">SCHEDULE &#10095;</span>

<!--<div class="facebookEmbed">
<iframe src="https://www.facebook.com/plugins/post.php?href=https%3A%2F%2Fwww.facebook.com%2Fspiklxyz%2Fposts%2F1480762351954227&width=500" width="500" height="446" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true" style="text-align:center"></iframe>
</div>!-->

<div id="main">
<div id="mySchedule">
    <table class="eventsTable">
      <tr>
        <td class="eventsTableArrow"><a href="#" onclick="scheduleGoLeft()" class="eventScroll" id="left-button">&#10094;</a></td>
            <td class="eventsTableData">
              <div id="allMyEvents">
                <div class="myEvent"></div>
                <div class="myEvent"></div>
                <div class="myEvent"></div>
                <div class="myEvent"></div>
                <div class="myEvent"></div>
                <div class="myEvent"></div>
                <div class="myEvent"></div>
            </div></td>
        <td class="eventsTableArrow"><a href="#" onclick="scheduleGoRight()" class="eventScroll" id="right-button">&#10095;</a></td>
      </tr>
    </table>
</div>

<div class="eventDetails" style="text-align: center;">
    <p>Click on any event to see more details.</p>
    <h3><p id="myEventName"></p></h3>
    <p id="myEventPlace"></p>
    <p id="myEventTime"></p>
    <p id="myEventDescription"></p>
</div>

</div>

<div id="main">
<div id="upcomingEvents">
    <table class="eventsTable">
      <tr>
        <td class="eventsTableArrow"><button href="#" class="eventScroll" id="left-button-bottom">&#10094;</button></td>
            <td class="eventsTableData"><div id="content">
                <img class="thing" id="notesPic0">
                <img class="thing" id="notesPic1">
                <img class="thing" id="notesPic2">
                <img class="thing" id="notesPic3">
                <img class="thing" id="notesPic4">
                <img class="thing" id="notesPic5">
                <img class="thing" id="notesPic6">
                <img class="thing" id="notesPic7">
                <img class="thing" id="notesPic8">
                <img class="thing" id="notesPic9">
                <img class="thing" id="notesPic10">
                <img class="thing" id="notesPic11">
            </div></td>
        <td class="eventsTableArrow"><button href="#" class="eventScroll" id="right-button-bottom">&#10095;</button></td>
      </tr>
    </table>
</div>

<div class="eventDetails" style="text-align: center;">
    <p>Click on any event to see more details.</p>
    <h3><p id="eventName"></p></h3>
    <p id="eventPlace"></p>
    <p id="eventTime"></p>
    <p id="eventDescription"></p>
    <br>
    <br>
    <button class="addEvent" id="add" onclick="addToSchedule()">Add to Schedule</button>
</div>

</div>

<br><br><br><br><br><br><br>

<hr>

<div class="footer">
© SPiKL Inc.
  <a href="https://www.facebook.com/spiklxyz/"><i class="fa fa-facebook-square" style="font-size:28px; color:grey; float:right"></i></a>
  <br><a href="terms.html" target="_blank">Terms and Conditions</a>
</div>

</body>
